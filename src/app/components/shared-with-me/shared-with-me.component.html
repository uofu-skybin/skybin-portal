<div id='shared-with-me-container'>
    <div id='shared-with-me-buttons'>
        <button mat-raised-button class='skybin-btn-primary' (click)='downloadClicked()' name='my-files-download-button'>
            Download
        </button>
    </div>

    <div id='context-menu-container' class='context-menu-trigger'>
        <!-- This button triggers context menu opens/closes but is not displayed -->
        <button class='context-menu-trigger' mat-button #ctxtMenuTrigger='matMenuTrigger' [matMenuTriggerFor]='menu'></button>
        <div class='context-menu'>
            <mat-menu #menu='matMenu'>
                <button mat-menu-item (click)='downloadFile(selectedFile)'>Download</button>
            </mat-menu>
        </div>
    </div>

    <app-filebrowser [filesToDisplay]='filteredFiles' (onPathChanged)='onPathChanged($event)' (onFileSelected)='onFileSelected($event)'
        (onFileContextClick)='onContextClick($event)'></app-filebrowser>

    <div id='popups-container'>
        <div *ngIf='showDownloads' id='downloads-overlay' class='modal in' tabindex='-1' type='dialog' data-show='true'>
            <div class='modal-dialog modal-sm' role='document'>
                <div class='modal-content'>
                    <div class='modal-header'>
                        <h5 mat-dialog-title>Downloads</h5>
                        <button (click)='hideDownloads()' type='button' class='close' data-dismiss='modal' aria-label='Close'>
                            <span aria-hidden='true'>&times;</span>
                        </button>
                    </div>
                    <div class='modal-body'>
                        <div *ngFor='let download of downloads' class='upload-item'>
                            <div>
                                {{download.destPath}}
                                <i *ngIf="download.state === 'TRANSFER_DONE'" (click)='showFinishedDownload(download)' class='fa fa-search transfer-icon'
                                    aria-hidden='true'></i>
                                <i *ngIf="download.state === 'TRANSFER_ERROR'" class='fa fa-exclamation-circle transfer-icon' aria-hidden='true'></i>
                            </div>
                            <mat-progress-bar *ngIf="download.state === 'TRANSFER_RUNNING'" mode='indeterminate'></mat-progress-bar>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
